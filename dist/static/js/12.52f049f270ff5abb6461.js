webpackJsonp([12],{GigV:function(t,s,o){(t.exports=o("BkJT")(!0)).push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"userPost.vue",sourceRoot:""}])},gCL6:function(t,s,o){var i=o("GigV");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);o("8bSs")("cf0d264c",i,!0)},liSp:function(t,s,o){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=o("4YfN"),e=o.n(i),a=o("9rMa"),h=o("ZN2C"),r=o("QxSH"),n=o("PkWx"),l=o("hhm8"),u=o("F4+m"),c={name:"userPost",mixins:[u.b,u.c],data:function(){return{title:this.$route.params.followAuthor?"全部文章":"我的文章",list:[],page:1,hasMore:!0,showUpdateBtn:!0,showBtn:!this.$route.params.followAuthor,isSelf:!this.$route.params.followAuthor}},methods:{_getPosts:function(){var t=this;if(this.hasMore&&!this.isGetDataNow){this.isGetDataNow=!0;var s=this.isSelf?this.user._id:this.$route.params.followAuthor;Object(n.e)(s,this.page).then(function(s){var o=s.data;o.code===l.a&&(o.data.length>0?(t.page++,t.list=t.list.concat(t.timeFormat(o.data))):t.hasMore=!1)}).catch(console.log).finally(function(){return t.isGetDataNow=!1})}},_delPostById:function(t){var s=this,o=this.list[t]._id;Object(n.b)(o).then(function(o){o.data.code===l.a&&s.list.splice(t,1)}).catch(console.log)},postClick:function(t){var s=this.list[t]._id;this.$router.push("/post/"+s)},postUpdate:function(t){var s=this.list[t]._id;this.$router.push("/post/"+s+"/update")}},created:function(){this._getPosts(),this.pullup(this._getPosts)},activated:function(){!this.isPopState&&this.intoPageCount++&&(this.title=this.$route.params.followAuthor?"全部文章":"我的文章",this.list=[],this.page=1,this.hasMore=!0,this.showBtn=!this.$route.params.followAuthor,this.isSelf=!this.$route.params.followAuthor,this._getPosts())},computed:e()({},Object(a.c)(["user","isPopState"])),components:{OtherHeader:h.a,PostList:r.a}},p={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",[s("other-header",{attrs:{title:this.title}}),this._v(" "),s("post-list",{attrs:{list:this.list,showBtn:this.showBtn,showUpdateBtn:this.showUpdateBtn},on:{delByIndex:this._delPostById,postClick:this.postClick,updateIndex:this.postUpdate}})],1)},staticRenderFns:[]},d=o("OF7X")(c,p,!1,function(t){o("gCL6")},"data-v-15317d86",null);s.default=d.exports}});
//# sourceMappingURL=12.52f049f270ff5abb6461.js.map