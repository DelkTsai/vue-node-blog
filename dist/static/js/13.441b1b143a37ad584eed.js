webpackJsonp([13],{"8UIe":function(t,s,e){(t.exports=e("BkJT")(!0)).push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"userPost.vue",sourceRoot:""}])},Mjxw:function(t,s,e){var o=e("8UIe");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);e("8bSs")("7186bb8a",o,!0)},liSp:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var o=e("4YfN"),i=e.n(o),a=e("9rMa"),h=e("ZN2C"),r=e("QxSH"),n=e("PkWx"),l=e("hhm8"),u=e("F4+m"),c={name:"userPost",mixins:[u.b,u.c],data:function(){return{title:this.$route.params.followAuthor?"全部文章":"我的文章",list:[],page:1,hasMore:!0,showUpdateBtn:!0,showBtn:!this.$route.params.followAuthor,isSelf:!this.$route.params.followAuthor}},methods:{_getPosts:function(){var t=this;if(this.hasMore){var s=this.isSelf?this.user._id:this.$route.params.followAuthor;Object(n.e)(s,this.page).then(function(s){var e=s.data;e.code===l.a&&(e.data.length>0?(t.page++,t.list=t.list.concat(t.timeFormat(e.data))):t.hasMore=!1)}).catch(console.log)}},_delPostById:function(t){var s=this,e=this.list[t]._id;Object(n.b)(e).then(function(e){e.data.code===l.a&&s.list.splice(t,1)}).catch(console.log)},postClick:function(t){var s=this.list[t]._id;this.$router.push("/post/"+s)},postUpdate:function(t){var s=this.list[t]._id;this.$router.push("/post/"+s+"/update")}},created:function(){this._getPosts(),this.pullup(this._getPosts)},activated:function(){!this.isPopState&&this.intoPageCount++&&(this.title=this.$route.params.followAuthor?"全部文章":"我的文章",this.list=[],this.page=1,this.hasMore=!0,this.showBtn=!this.$route.params.followAuthor,this.isSelf=!this.$route.params.followAuthor,this._getPosts())},computed:i()({},Object(a.c)(["user","isPopState"])),components:{OtherHeader:h.a,PostList:r.a}},p={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",[s("other-header",{attrs:{title:this.title}}),this._v(" "),s("post-list",{attrs:{list:this.list,showBtn:this.showBtn,showUpdateBtn:this.showUpdateBtn},on:{delByIndex:this._delPostById,postClick:this.postClick,updateIndex:this.postUpdate}})],1)},staticRenderFns:[]},d=e("OF7X")(c,p,!1,function(t){e("Mjxw")},"data-v-03933fdb",null);s.default=d.exports}});
//# sourceMappingURL=13.441b1b143a37ad584eed.js.map