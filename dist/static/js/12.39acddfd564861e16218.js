webpackJsonp([12],{"2zfj":function(e,t,n){var i=n("SGrx");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);n("8bSs")("84b71530",i,!0)},SGrx:function(e,t,n){(e.exports=n("BkJT")(!0)).push([e.i,"\n.form[data-v-0b6d5af4] {\n  padding: 20px;\n  text-align: right;\n}\n.form .input[data-v-0b6d5af4] {\n  font-size: 14px;\n  color: #222;\n  height: 30px;\n  margin-bottom: 20px;\n  width: 100%;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  padding: 0 10px;\n  border: 1px solid #ccc;\n  border-radius: 5px;\n  outline: none;\n}\n.form .avatar-box[data-v-0b6d5af4] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  margin-bottom: 20px;\n  font-size: 14px;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n.form .avatar-box .text[data-v-0b6d5af4] {\n  margin-right: 10px;\n}\n.form .avatar-box .file[data-v-0b6d5af4] {\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n}\n.form .save-btn[data-v-0b6d5af4] {\n  color: #fff;\n  font-size: 14px;\n  display: inline-block;\n  padding: 7px 15px;\n  background-color: #007fff;\n  border-radius: 5px;\n}","",{version:3,sources:["D:/webStudy/vue-node-blog/src/components/user/edit.vue"],names:[],mappings:";AACA;EACE,cAAc;EACd,kBAAkB;CACnB;AACD;EACE,gBAAgB;EAChB,YAAY;EACZ,aAAa;EACb,oBAAoB;EACpB,YAAY;EACZ,+BAA+B;UACvB,uBAAuB;EAC/B,gBAAgB;EAChB,uBAAuB;EACvB,mBAAmB;EACnB,cAAc;CACf;AACD;EACE,qBAAqB;EACrB,qBAAqB;EACrB,cAAc;EACd,oBAAoB;EACpB,gBAAgB;EAChB,0BAA0B;MACtB,uBAAuB;UACnB,oBAAoB;CAC7B;AACD;EACE,mBAAmB;CACpB;AACD;EACE,oBAAoB;MAChB,YAAY;UACR,QAAQ;CACjB;AACD;EACE,YAAY;EACZ,gBAAgB;EAChB,sBAAsB;EACtB,kBAAkB;EAClB,0BAA0B;EAC1B,mBAAmB;CACpB",file:"edit.vue",sourcesContent:["\n.form[data-v-0b6d5af4] {\n  padding: 20px;\n  text-align: right;\n}\n.form .input[data-v-0b6d5af4] {\n  font-size: 14px;\n  color: #222;\n  height: 30px;\n  margin-bottom: 20px;\n  width: 100%;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  padding: 0 10px;\n  border: 1px solid #ccc;\n  border-radius: 5px;\n  outline: none;\n}\n.form .avatar-box[data-v-0b6d5af4] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  margin-bottom: 20px;\n  font-size: 14px;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n.form .avatar-box .text[data-v-0b6d5af4] {\n  margin-right: 10px;\n}\n.form .avatar-box .file[data-v-0b6d5af4] {\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n}\n.form .save-btn[data-v-0b6d5af4] {\n  color: #fff;\n  font-size: 14px;\n  display: inline-block;\n  padding: 7px 15px;\n  background-color: #007fff;\n  border-radius: 5px;\n}"],sourceRoot:""}])},Z9IP:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("4YfN"),a=n.n(i),o=n("9rMa"),r=n("vMJZ"),s=n("hhm8"),d=n("ZN2C"),l=n("HuMS"),p={name:"edit",data:function(){return{title:"修改资料",name:"",describe:"",files:null,email:"",tipText:""}},methods:a()({initUserInfo:function(){var e=this.user;this.name=e.originName||e.name,this.describe=e.describe,this.email=e.email},checkEmail:function(e){return/^[\w\d_-]+@[\w\d]{2,4}(.[\w\d]{2,4})+$/.test(e)},checked:function(){return this.name.length<1||this.name.length>10?this.showTip("名字请限制在 1-10 个字符"):this.email&&!this.checkEmail(this.email)?this.showTip("邮箱格式不正确"):void this._editUserInfo()},setAvatar:function(e){this.files=e.target.files},showTip:function(e){this.tipText=e,this.tip.show()},_editUserInfo:function(){var e=this,t=new FormData;t.append("name",this.name),this.describe&&t.append("describe",this.describe),this.email&&t.append("email",this.email),this.files&&t.append("avatar",this.files[0]),Object(r.a)(t).then(function(t){var n=t.data;n.code===s.a?(e.setUserInfo(n.data),e.showTip("修改成功"),e.$router.go(-1)):e.showTip(n.msg)}).catch(console.log)}},Object(o.d)({setUserInfo:"SET_USER_INFO"})),created:function(){this.initUserInfo()},mounted:function(){this.tip=this.$refs.tip},computed:a()({},Object(o.c)(["user"])),components:{OtherHeader:d.a,Tip:l.a}},c={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("other-header",{attrs:{title:e.title}}),e._v(" "),n("div",{staticClass:"form"},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.name,expression:"name",modifiers:{trim:!0}}],staticClass:"input",attrs:{type:"text",placeholder:"请输入用户名"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value.trim())},blur:function(t){e.$forceUpdate()}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.describe,expression:"describe",modifiers:{trim:!0}}],staticClass:"input",attrs:{type:"text",placeholder:"介绍"},domProps:{value:e.describe},on:{input:function(t){t.target.composing||(e.describe=t.target.value.trim())},blur:function(t){e.$forceUpdate()}}}),e._v(" "),n("div",{staticClass:"avatar-box"},[n("span",{staticClass:"text"},[e._v("选择头像")]),e._v(" "),n("input",{staticClass:"file",attrs:{type:"file"},on:{change:e.setAvatar}})]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.email,expression:"email",modifiers:{trim:!0}}],staticClass:"input",attrs:{type:"email",placeholder:"请输入邮箱"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value.trim())},blur:function(t){e.$forceUpdate()}}}),e._v(" "),n("span",{staticClass:"save-btn",on:{click:e.checked}},[e._v("保存")])]),e._v(" "),n("tip",{ref:"tip",attrs:{tipText:e.tipText}})],1)},staticRenderFns:[]},A=n("OF7X")(p,c,!1,function(e){n("2zfj")},"data-v-0b6d5af4",null);t.default=A.exports}});
//# sourceMappingURL=12.39acddfd564861e16218.js.map